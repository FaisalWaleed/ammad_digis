!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.FaviconNotification=t()}(this,function(){if("undefined"==typeof document)return void console.log("This script only run in browsers.");var e,t,n={},i={url:"/favicon.ico",color:"#eb361e",lineColor:"#ffffff"},o=function(e){var n=document.getElementsByTagName("head")[0];t=document.createElement("link"),t.type="image/x-icon",t.rel="icon",t.href=e;for(var i=document.getElementsByTagName("link"),o=0,r=i.length;r>o;o++){var c="undefined"!=typeof i[o];c&&(i[o].getAttribute("rel")||"").match(/\bicon\b/)&&n.removeChild(i[o])}n.appendChild(t)},r=function(e){var t=document.createElement("img");t.src=n.url,t.onload=function(){var i=2,o=document.createElement("canvas");o.width=t.width,o.height=t.height;var r=o.getContext("2d");r.clearRect(0,0,t.width,t.height),r.drawImage(t,0,0);var c=t.width-t.width/4.5-i,a=t.height-t.height/4.5-i,f=t.width/4.5;r.fillStyle=n.color,r.strokeStyle=n.lineColor,r.lineWidth=i,r.beginPath(),r.arc(c,a,f,0,2*Math.PI,!1),r.closePath(),r.fill(),r.stroke(),e(null,r.canvas.toDataURL())}},c=function(e){if(!e)return void(n=i);n={};for(var t in i)n[t]=e.hasOwnProperty(t)?e[t]:i[t]},a={init:function(t){c(t),r(function(t,n){e=n}),o(n.url)},add:function(){e||t?t.href=e:(c(),r(function(t,n){e=n,o(n)}))},remove:function(){t.href=n.url}};return a});